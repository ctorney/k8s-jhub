{% extends "page.html" %}
{% if announcement_login %}
{% set announcement = announcement_login %}
{% endif %}

{% block login_widget %}
{% endblock %}

{% block main %}

{% block login %}

<div id="login-main" class="container">
  <div class="loginTable">
    <div class="loginTableRow">
      <div class="contentCenter">
        <img width="335px" style="padding-right: 200px; padding-bottom: 20px; padding-left: 200px; padding-top: 100px;" src="../static/images/UoG.png" alt="University of Glasgow">
      </div>
      <div class="contentCenter">
      <h2>Welcome to JupyterHub</h2>
      <h4>Tensorflow-enabled notebooks running on GPUs provided by Microsoft AI4Earth.</h4>
        <form id="login" name="login" action="/idp/profile/SAML2/POST/SSO?execution=e1s1" method="post">
          <input type="hidden" name="performauthentication" value="true">
          <div class="inputContainer">
            <br>
            <!--<center>
              <h3> Google OAuth 2.0 </h3>
            </center> -->
            <center>

            <br>

              <a role="button" id="google-signin2" href='{{authenticator_login_url}}'>
                <img width="335px" height="52px"
                  src="../static/images/signinwgithub.svg"
                  border="0" alt="Github"/>
              </a>
            </center>
            <div id="helpContainer">
              <p>Request access? <a href="mailto:colin.torney@glasgow.ac.uk" target="_blank">Contact Admin</a>
                <br>
                What's it like? <a href="https://jupyter.org/index.html" target="_blank">About JupyterHub</a></p>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

{% endblock login %}
{% endblock %}

{% block stylesheet %}
<link rel="stylesheet" href="../static/css/utd.css" type="text/css" />
{% endblock %}

{% block script %}
{{ super() }}
<script>
  if (window.location.protocol === "http:") {
    // unhide http warning
    var warning = document.getElementById('insecure-login-warning');
    warning.className = warning.className.replace(/\bhidden\b/, '');
  }
  // setup onSubmit feedback
  $('form').submit((e) => {
    var form = $(e.target);
    form.find('.feedback-container>input').attr('disabled', true);
    form.find('.feedback-container>*').toggleClass('hidden');
    form.find('.feedback-widget>*').toggleClass('fa-pulse');
  });
</script>
{% endblock %}
